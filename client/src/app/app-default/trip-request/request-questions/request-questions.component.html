<!-- <div>Show errors: {{ showErrors }}</div> -->
<!-- <div style="font-size: 10px;">CurrentStep: {{ currentStepIndex }}</div> -->
<!-- <div style="font-size: 10px;">
  CurrentActivitiesStep: {{ currentActivitiesStepIndex }}
</div> -->
<!-- <div style="font-size: 10px;">
  stepsNumber.tripActivities: {{ stepsNumber.tripActivities }}
</div> -->
<!-- <div style="font-size: 10px;">
  activitiesWithoutEmpty: {{ activitiesWithoutEmpty }}
</div> -->
<!-- <div style="font-size: 10px;">activities: {{ formValue.activities }}</div> -->
<!-- <div style="font-size: 10px;">Validation: {{ errors | json }}</div> -->

<div class="step-number" *ngIf="currentStepIndex < stepsNumber.tripActivities">
  STEP {{ currentStepIndex + 1 }}
</div>
<div
  class="step-number"
  *ngIf="currentStepIndex === stepsNumber.tripActivities"
>
  STEP {{ currentStepIndex + 1 + currentActivitiesStepIndex + 1 }}
</div>
<div class="step-number" *ngIf="currentStepIndex > stepsNumber.tripActivities">
  STEP
  {{ currentStepIndex + 1 + activitiesWithoutEmpty.length }}
</div>

<app-date-planned
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.datePlanned"
  [value]="formValue.isDatePlanned"
  (clickedDatePlanned)="onUpdateStepValues($event); onClickNext()"
></app-date-planned>

<app-dates-trip
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.datesTrip && formValue.isDatePlanned"
  [departureDate]="formValue.departureDate"
  [arrivalDate]="formValue.arrivalDate"
  [airport]="formValue.airport"
  (dateConfirmed)="onUpdateStepValues($event)"
></app-dates-trip>

<app-estimate-date
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.estimateDate && !formValue.isDatePlanned
  "
  [estimateMonth]="formValue.estimateMonth"
  [estimateDays]="formValue.estimateDays"
  (estimateDateChanged)="onUpdateStepValues($event)"
></app-estimate-date>

<app-trip-destination
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.tripDestination"
  (destinationPicked)="onUpdateStepValues($event)"
  (preciseAreaChanged)="onUpdateStepValues($event)"
  [typedPreciseAreaValue]="formValue.preciseArea"
  [selectedDestinations]="formValue.destinations"
></app-trip-destination>

<app-who-travel
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.whoTravel"
  [numberPeople]="formValue.numberPeople"
  (pickedNumberPeople)="onUpdateStepValues($event)"
></app-who-travel>

<app-purpose-trip
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.purposeTrip"
  [selectedPurposes]="formValue.purposes"
  [selectedBeenInPast]="formValue.beenInPast"
  (purposePicked)="onUpdateStepValues($event)"
  (beenInPastPicked)="onUpdateStepValues($event)"
></app-purpose-trip>

<app-trip-activities
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    currentActivitiesStepIndex === -1
  "
  [selectedActivities]="formValue.activities"
  (pickedActivityType)="onUpdateStepValues($event)"
></app-trip-activities>

<app-museums
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'museums'
  "
  [selectedMuseums]="formValue.museums"
  (pickedMuseum)="onUpdateStepValues($event)"
>
</app-museums>

<app-nightlife
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'nightlife'
  "
  [selectedNight]="formValue.night"
  (nightPicked)="onUpdateStepValues($event)"
>
</app-nightlife>

<app-food-trip
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.food"
  [selectedFood]="formValue.food"
  (pickedFood)="onUpdateStepValues($event)"
>
</app-food-trip>

<app-dining-trip
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.dining"
  [selectedDining]="formValue.dining"
  [selectedEatHands]="formValue.eatHands"
  (pickedDining)="onUpdateStepValues($event)"
  (pickedEatHands)="onUpdateStepValues($event)"
>
</app-dining-trip>

<app-diving
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'diving'
  "
></app-diving>

<app-local-traditions
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'culture'
  "
  [selectedCulture]="formValue.culture"
  (clturePicked)="onUpdateStepValues($event)"
></app-local-traditions>

<app-natural-wonders
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'natural'
  "
  [selectedNatural]="formValue.natural"
  (naturalPicked)="onUpdateStepValues($event)"
></app-natural-wonders>

<app-volcano
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'volcanoes'
  "
  [selectedVolcano]="formValue.volcano"
  [typedVolcanoPlaces]="formValue.volcanoPlaces"
  (pickedVolcano)="onUpdateStepValues($event)"
  (volcanoPlacesChanged)="onUpdateStepValues($event)"
></app-volcano>

<app-hiking-trip
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'trekking'
  "
  [selectedTreks]="formValue.treks"
  [selectedTreksDuration]="formValue.treksDuration"
  [selectedTreksDifficulty]="formValue.treksDifficulty"
  (pickedTreks)="onUpdateStepValues($event)"
></app-hiking-trip>

<app-sports
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'sports'
  "
  [selectedSports]="formValue.sports"
  (pickedSport)="onUpdateStepValues($event)"
></app-sports>

<app-spa
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'spa'
  "
  [selectedSpa]="formValue.spa"
  (pickedSpa)="onUpdateStepValues($event)"
></app-spa>

<app-surfing
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'surfing'
  "
></app-surfing>

<app-history
  appScrollTop
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    activitiesWithoutEmpty[currentActivitiesStepIndex] === 'history'
  "
  [selectedHistory]="formValue.history"
  (historyPicked)="onUpdateStepValues($event)"
></app-history>

<app-hotel-type
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.hotelType"
  [selectedHotel]="formValue.hotelType"
  [selectedPriceRange]="formValue.priceRange"
  (hotelPicked)="onUpdateStepValues($event)"
  (priceRangeChanged)="onUpdateStepValues($event)"
></app-hotel-type>

<app-last-question
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.lastQuestion"
></app-last-question>

<app-form-package
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.packages"
  [value]="formValue.package"
  (formPackageSelected)="onUpdateStepValues($event)"
></app-form-package>

<app-stripe-payment
  appScrollTop
  *ngIf="currentStepIndex === stepsNumber.payment"
></app-stripe-payment>

<div class="errors" *ngIf="showErrors">
  <div class="alert">
    <div class="error">
      {{ errors[0].message }}
    </div>
  </div>
</div>

<div class="step-buttons">
  <div *ngIf="currentStepIndex > 0">
    <button class="step-btn" (click)="onClickPrevious()">
      Previous
    </button>
  </div>
  <div *ngIf="!(currentStepIndex > stepsTotal - 3) && currentStepIndex !== 0">
    <button class="next-btn" (click)="onClickNext()">
      Next
    </button>
  </div>
</div>

<!-- <div class="step-two" >
    <h2>Please enter your information</h2>

    <form [formGroup]="requestForm">
      <input
        type="text"
        matInput
        placeholder="First Name"
        formControlName="firstName"
        required
      />
      <button (click)="submitRequest()">Submit request</button>
    </form>
  </div> -->
