<!-- <app-stripe-payment></app-stripe-payment> -->
<!-- <div>Show errors: {{ showErrors }}</div> -->
<div style="font-size: 10px;">CurrentStep: {{ currentStepIndex }}</div>
<div style="font-size: 10px;">
  CurrentActivitiesStep: {{ currentActivitiesStepIndex }}
</div>
<div style="font-size: 10px;">
  stepsNumber.tripActivities: {{ stepsNumber.tripActivities }}
</div>
<div style="font-size: 10px;">
  activitiesWithoutEmpty: {{ activitiesWithoutEmpty }}
</div>
<div style="font-size: 10px;">activities: {{ formValue.activities }}</div>
<!-- <div style="font-size: 10px;">Validation: {{ errors | json }}</div> -->

<div class="step-number" *ngIf="currentStepIndex < stepsNumber.tripActivities">
  STEP {{ currentStepIndex + 1 }}
</div>
<div
  class="step-number"
  *ngIf="currentStepIndex === stepsNumber.tripActivities"
>
  STEP {{ currentStepIndex + 1 + currentActivitiesStepIndex + 1 }}
</div>
<div class="step-number" *ngIf="currentStepIndex > stepsNumber.tripActivities">
  STEP
  {{ currentStepIndex + 1 + activitiesWithoutEmpty.length }}
</div>

<app-date-planned
  *ngIf="currentStepIndex === stepsNumber.datePlanned"
  [value]="formValue.isDatePlanned"
  (clickedDatePlanned)="onUpdateStepValues($event); onClickNext()"
></app-date-planned>

<app-dates-trip
  *ngIf="currentStepIndex === stepsNumber.datesTrip && formValue.isDatePlanned"
  [departureDate]="formValue.departureDate"
  [arrivalDate]="formValue.arrivalDate"
  [airport]="formValue.airport"
  (dateConfirmed)="onUpdateStepValues($event)"
></app-dates-trip>

<app-estimate-date
  *ngIf="
    currentStepIndex === stepsNumber.estimateDate && !formValue.isDatePlanned
  "
  [estimateMonth]="formValue.estimateMonth"
  [estimateDays]="formValue.estimateDays"
  (estimateDateChanged)="onUpdateStepValues($event)"
></app-estimate-date>

<app-trip-destination
  *ngIf="currentStepIndex === stepsNumber.tripDestination"
  (destinationPicked)="onUpdateStepValues($event)"
  [selectedDestinations]="formValue.destinations"
></app-trip-destination>

<app-who-travel
  *ngIf="currentStepIndex === stepsNumber.whoTravel"
  [showConfirm]="true"
  [numberPeople]="formValue.numberPeople"
  (pickedNumberPeople)="onUpdateStepValues($event)"
></app-who-travel>

<app-purpose-trip
  *ngIf="currentStepIndex === stepsNumber.purposeTrip"
  [selectedPurposes]="formValue.purposes"
  (purposePicked)="onUpdateStepValues($event)"
></app-purpose-trip>

<app-trip-activities
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    currentActivitiesStepIndex === -1
  "
  [selectedActivities]="formValue.activities"
  (pickedActivityType)="onUpdateStepValues($event)"
></app-trip-activities>

<!-- <div>
  currentActivitiesStepIndex:
  {{ currentActivitiesStepIndex }}
  formValue.activities[currentActivitiesStepIndex]:
  {{ formValue.activities[currentActivitiesStepIndex] }}
</div> -->

<app-museums
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'museums'
  "
  [selectedMuseums]="formValue.museums"
  (pickedMuseum)="onUpdateStepValues($event)"
>
</app-museums>

<app-beverages *ngIf="currentStepIndex === stepsNumber.food"> </app-beverages>

<app-diving
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'diving'
  "
></app-diving>

<app-natural-wonders
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'natural'
  "
  [selectedNatural]="formValue.natural"
  (naturalPicked)="onUpdateStepValues($event)"
></app-natural-wonders>

<app-volcano
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'volcano'
  "
></app-volcano>

<app-hiking-trip
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'trekking'
  "
></app-hiking-trip>

<app-sports
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'sports'
  "
></app-sports>

<app-spa
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'spa'
  "
></app-spa>

<app-surfing
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'surfing'
  "
></app-surfing>

<app-history
  *ngIf="
    currentStepIndex === stepsNumber.tripActivities &&
    formValue.activities[currentActivitiesStepIndex] === 'history'
  "
  [selectedHistory]="formValue.history"
  (historyPicked)="onUpdateStepValues($event)"
></app-history>

<!-- <div *ngIf="currentStepIndex === 6">
  After Activities
</div> -->

<div class="errors" *ngIf="showErrors" class="alert">
  <div *ngFor="let error of errors" class="error">
    {{ error.message }}
  </div>
</div>

<div class="step-buttons">
  <div *ngIf="currentStepIndex > 0">
    <button class="next-btn" (click)="onClickPrevious()">
      Previous
    </button>
  </div>
  <div *ngIf="!(currentStepIndex > 7) && currentStepIndex !== 0">
    <button class="next-btn" (click)="onClickNext()">
      Next
    </button>
  </div>
</div>

<app-hotel-type
  *ngIf="currentStepIndex === stepsNumber.hotelType"
  [selectedTypes]="formValue.hotelType"
  (pickedHotelType)="onUpdateStepValues($event)"
></app-hotel-type>

<!-- <div class="step-two" >
    <h2>Please enter your information</h2>

    <form [formGroup]="requestForm">
      <input
        type="text"
        matInput
        placeholder="First Name"
        formControlName="firstName"
        required
      />
      <button (click)="submitRequest()">Submit request</button>
    </form>
  </div> -->
